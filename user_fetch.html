<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ejemplo</title>


    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">

    <script
    src="https://code.jquery.com/jquery-3.5.1.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
    crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>


</head>
<body>

    <h2>Usuarios</h2>
        <div class="col-4">

                <div class="modal-body">

                        <div class="d-flex justify-content-center" >
                            <div class="spinner-border" role="status" id="loader">
                                <span class="sr-only">Loading...</span>
                            </div>
                        </div>
                        <div id="data">
                            <div class="row">
                                <div class="col-6 text-right font-weight-bold">Nombre:</div>
                                <div class="col-6" id="field_nombre"></div>
                            </div>
                            <div class="row">
                                <div class="col-6 text-right font-weight-bold">Usuario:</div>
                                <div class="col-6" id="field_usuario"></div>
                            </div>
                            <div class="row">
                                <div class="col-6 text-right font-weight-bold">Id sucursal:</div>
                                <div class="col-6" id="field_id"></div>
                            </div>
                            <div class="row">
                                <div class="col-6 text-right font-weight-bold">Permiso ver reportes:</div>
                                <div class="col-6" id="field_permiso"></div>
                            </div>
                            <div class="row">
                                <div class="col-6 text-right font-weight-bold">Estatus:</div>
                                <div class="col-6" id="field_estatus"></div>
                            </div>
                            <div class="row">
                                <div class="col-6 text-right font-weight-bold">Fecha Creacion:</div>
                                <div class="col-6" id="field_fecha"></div>
                            </div>
                        </div>

                </div>
        </div>
</body>

<script>
   $(document).ready(() => {
        

        $('#loader').show();
        $('#data').hide();
        const queryString = window.location.search;
        const urlParams = new URLSearchParams(queryString);
        const id = urlParams.get('id');

        $.ajax({url: "http://127.0.0.1/conferencia/api_example/get_usuario.php?id="+id, success: function(result){
            let data = JSON.parse(result);

            $('#field_nombre').text(data.nombre);
            $('#field_usuario').text(data.usuario);
            $('#field_id').text(data.sucId);
            $('#field_permiso').text(data.permisoReportes);
            $('#field_estatus').text(data.status);
            $('#field_fecha').text(data.fechaCreacion);


            $('#loader').hide();
            $('#data').show();

        }});
    

    });


</script>
</html>